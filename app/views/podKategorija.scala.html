@(productList: List[Product])(mainCategoryList: List[MainCategory])(mainCategory: MainCategory)

@import helper._

@main("Kategorija", "") {

    
<div class="wrap">
	<div class="main">
		<div class="content">
    		<div class="section group">
    		<div >
					  	
							
									<form action="@routes.ProductController.filteredSearch(Product.getIds(productList))" method="POST"">
									<h5 id="editProfileText1">Cijena od-do</h5
									<div style="margin-top:10px;">			
									<input type="number" min="1" max="9999999" step="any" value="" id="od" name="priceMin"/> 
										<input type="number" min="1" max="9999999" step="any" value="" id="do" name="priceMax"/>
									<h5 id="editProfileText1">Opis</h5>
									<input type="text" value="" id="desc" name="desc"/>						
						  			<!-- This is css for Kategorija and availability dropdown meni -->
					
						  			<style>
						    			fieldset {
							    			border: 0;
						    	  			font-style: bold;
						    	  			}
						    			
							    		label {
							      			display: block;
							      			margin: 0 0 0 0;
							      			}
							    		
							    		select {
							  		    	width: 53%;
							  		    	height: 40px;
							  		    	font-weight: bold;
							  		    	color: #464646;
											font-size: 1em;
											font-family: Arial, Helvetica, sans-serif;
											padding: 8px;
											margin: 5px;
											}
							   			
							    		.overflow {
							      			height: 400px;
							      			}
						 			</style>
						 			
						  							
						  						
 											
 											
 											<script language="JavaScript">

												var e = document.getElementById("categoryString");
												function showHideCategoryFields() {
													var selected = e.value;

													var hiddenDivs = document.querySelectorAll('.fieldsetToHide');

													for (var i = 0; i < hiddenDivs.length; i++) {
														hiddenDivs[i].style.display = 'none';
													}

													var actives = document.querySelectorAll("#subCategoryString");

													for (var i = 0; i < actives.length; i++) {
														actives[i].id = "inactive";
														actives[i].name = "inactive";
													}


													var shown = document.getElementById(selected);
													shown.style.display = 'block';
											
													var children = shown.childNodes;
													var node = children[1];
													var children2 = node.childNodes;
													var selectNode = children2[3];
													
													selectNode.id = "subCategoryString";
													selectNode.name = "subCategoryString";
													
													
														
												};
												
												e.onchange = showHideCategoryFields;
												
												showHideCategoryFields();
		
						 					</script>
	
											<fieldset>
			   									<label id="editProfileText1" for="availability" width=10px>Dostupnost</label>
			    								<select name="availabilityS" id="availabilityS">
			     									<option selected="selected">Svugdje</option>
									     			<option>Unutar BiH</option>
									      			<option>Sarajevo</option>
									    			<option>Unsko sanski</option>
									    			<option>Posavski</option>
									     			<option>Tuzlanski</option>
									     			<option>Zenicko-dobojski</option>
											    	<option>Bosansko-Podrinjski</option>
									   				<option>Srednjo-bosanski</option>
									    			<option>Zapadno-hercegovacki</option>
									    			<option>Livanjski</option>
									     			<option>Hercegovacko-neretvanski</option>
									   		   		<option>Distrikt Brcko</option>
									  		    	<option>Banjalucka</option>
									  		    	<option>Dobojsko-bijeljinska</option>
									   		   		<option>Sarajevsko-zvornicka</option>
									   		 		<option>Focansko-trebinjska</option>
									   		 	</select>
									   		 </fieldset> 
								
								
									<input class="buttonRed" type="submit" value="TraÅ¾i" />	
							</div>
								</form>
						</div>
				<div class="header_slide">
					<div class="leftBoxCat">				
						<div class="categories">
				  			<ul>
				  				<h3>Kategorije</h3>
				  	
						  		@if(mainCategoryList.size() > 0 ) {
						  			@for(mCategory <- mainCategoryList) {
						  				<li><a href="/kategorija/@mCategory.id">@mCategory.name</a></li>
						  			}
						  		}
				  		
				  			</ul>
						</div>					
					</div>
					<div class="subCatBox">
						<div class="categories">
						<ul id="listOfCategory">
				  			<h3>Podkategorije kategorije @mainCategory.name</h3>
				  		
				  			@if(mainCategory.subCategories.size() > 0 ) {
				  				@for(subCategory <- mainCategory.subCategories) {
				  					<li>
				  						<a href="/podKategorija/@subCategory.id">@subCategory.name</a>
				  					</li>
				  				}
				  			}
				  		
						</ul>
						</div>
					</div>
	      	      	<div class="section group">				
	      	      
						@if(productList.size() > 0){
							@for(product <- productList){
							<div class="grid_1_of_4 images_1_of_4">
								<a href="/showProduct/@product.id"><img src="@routes.Assets.at(product.productImagePath)" alt="" /></a>
								<h2>@product.name</h2>
								<div class="price-details">
									<div class="price-number">
										<p><span class="rupees">@product.getPriceString() KM</span></p>
									</div>
									<div class="add-cart">								
										<h4><a href="/showProduct/@product.id">Pogledaj</a></h4>
							     	</div>
							 		<div class="clear"></div>
								</div>					 
							</div>
				
							}
						}
					</div>
				</div>	
    		</div>
		</div>
	</div>
</div>
   
}
